<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article">
  <head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Blogue do Caloni - 2 Coelhos</title>
  <meta name="author" content="" />
  <meta name="generator" content="Hugo 0.110.0">
  <meta property="og:title" content="2 Coelhos"/>
  <meta property="og:type"
        content="article"/>
  <meta property="og:url" content="http://www.caloni.com.br/todo-put-original-title-slug/"/>
  <meta property="og:image"
        content="/img/author.jpg"/>
  <meta property="og:description"
        content="Uma montagem impec·vel consegue dar o tom da narrativa do complexo 2 Coelhos. AlÈm de complexo, existem pequenos detalhes da trama que forÁam um pouco a realidade (como a uni„o entre o protagonista e..."/>
  <link href="" rel="feed" type="application/rss+xml"
        title="Blogue do Caloni"/>
  <link rel="stylesheet" type="text/css" href="/css/custom.css"/>
  <link rel="stylesheet" type="text/css" href="/css/jquery-ui.css"/>
  <link rel="stylesheet" type="text/css" href="/css/board-min.css"/>
  <script src="/js/jquery-1.10.2.js"></script>
  <script src="/js/jquery-ui.js"></script>
  <script src="/js/pgnyui.js"></script>
  <script src="/js/pgnviewer.js"></script>
  <script src="/js/list.js"></script>
  <link rel="icon" href="/img/favicon.ico"/>
</head>
<body style="min-height:100vh;display:flex;flex-direction:column">
  <nav class="navbar has-shadow is-white"
        role="navigation" aria-label="main navigation">
  <div class="container">
  <div class="navbar-brand">
  <pre><span style="font-size: 3px; margin: 0; display: block;">
&amp;*/. .*%@@@@@@@@@@@@&amp;/    , &amp;@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@#,*@@@@%,*&amp;@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@./@.(@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@**#./((,*, *./((*,#,&amp;@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@.#@@%&amp;@@* (@@%&amp;@@/#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@,#@@&amp;&amp;@@, (@@&amp;&amp;@@*#@@@@@@@@@@@@@#/,,.         ..,/#&amp;@@@@@@@@@@@@@@@@@@@@@@@
@@@@@&amp;, .//      .//  .%@@@@@@&amp;#.  .,****.,*************,.  .(&amp;@@@@@@@@@@@@@@@@@
@@@*                     ,@/  .**,,,*********,   ,***,   ****    *@@@@@@@@@@@@@@
@#                         ,***      .******       ,***,*****,      *&amp;@@@@@@@@@@
&amp;                           ,**      .******.     .******************  (@@@@@@@@
                             ****..,*************************,    ,***   (@@@@@@
@@@@#,,,,,,,,,,,,,,,,,,,,*********,   ,**************,  .***,      .**. .  %@@@@
@@@@%                   .***,.,****,.,***,     ,****      ***.     ,******, /@@@
@@@@@&amp;.                ,**       *******,       *****,  .******************, *@@
@@@@@@@&amp;,            ,****      .********,.   .*************,  ,*****,    ,** /@
@@@@@@@@@@@@&amp;/ .****,    ************.   ****************************      **. #
@@@@@@@@@@@@@, *****,    ,***********    .******,   ,****.   .*****,***,,***** ,
@@@@@@@@@@@@&amp;..**************,  ,***********************       ,*,    ********..
@@@@@@@@@@@@&amp; ,**.    ,******.  .*******.    .**********,     .**********. .**, 
@@@@@@@@@@@@% ,*       ,***************.      .*****************************,   
@@@@@@@@@@@@@&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;@,(&amp;&amp;&amp;&amp;@,(&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;#*@&amp;&amp;&amp;@*#&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;
@@@@@@@@@@@@@@@@@@@@@@@@@@@@(.#@@@@(.#@@@@@@@@@@@@@@@@@@@@@#**@@@@(.#@@@@@@@@@@@
  </span></pre>
  &nbsp;
  <a class="navbar-item" title="Go to Home" href="/">
    <div class="is-6">Blogue do Caloni</div>
  </a>
  </div>
  </div>
  </nav>
  <div class="container">
  <p class="title">
  <a class="external" href="https://www.caloni.com.br/todo-put-external-link-here">
  Todo Put Post Title Here
  </a>
  </p>
  <div class="content">
<p>Quando se est√° come√ßando no ramo, alguns detalhes nunca v√™m √† tona para o programador novato. Ele simplesmente vai codando at√© se sentir satisfeito com o prazer que √© proporcionado pela pr√°tica da arte dos deuses de sil√≠cio.</p>
<p>Isso, em termos pr√°ticos, quer dizer que todo o fonte vai ser escrito no mesmo ".c", que ali√°s talvez nem se d√™ ao luxo de possuir seu pr√≥prio ".h": pra qu√™, se as fun√ß√µes s√£o todas amigas de inf√¢ncia e todas se conhecem?</p>
<p>No come√ßo n√£o existe nenhum problema, mesmo. O fonte vai ser pequeno. A coisa s√≥ complica quando n√£o d√° mais pra se achar no meio de tantos gotos e ifs aninhados. Talvez nessa hora o programador j√°-n√£o-t√£o-novato at√© tenha descoberto que √© poss√≠vel criar v√°rios arquivos-fonte e reuni-los em um neg√≥cio chamado projeto, e que existem IDEs, como o Visual Studio, que organizam esses tais projetos.</p>
<p>Boa pergunta. Uma LIB, ou biblioteca, nada mais √© do que um punhado de ".obj" colocados todos no mesmo arquivo, geralmente um ".lib". Esses ".obj" s√£o o resultado da compila√ß√£o de seus respectivos ".c" de origem.</p>
<p>{{< image src="salada2.gif" caption="Salada Lib" >}}</p>
<p>Alguns acreditam ser esse neg√≥cio de LIB uma pura perda de tempo, pois existem trocentas configura√ß√µes diferentes (e incompat√≠veis) e trocentas compila√ß√µes diferentes para gerenciar. Outros acham que o problema est√° no tempo de compila√ß√£o, enquanto outros defendem o uso dos ".obj" de maneira separada. Esse artigo n√£o presume que nem um nem outro seja melhor. Apenas ensina o que voc√™ precisa saber para criar sua primeira LIB usando o Visual Studio Express.</p>
<p>Vamos l√°?</p>
<p>Ap√≥s abrir o VS, tudo que precisamos fazer √© ir em New, Project, e escolher a configura√ß√£o de "Win32 Project":</p>
<p>{{< image src="myfirstlib.png" caption="MyFirstLib" >}}</p>
<p>{{< image src="myfirstlib2.png" caption="MyFirstLib2" >}}</p>
<p>{{< image src="myfirstlib3.png" caption="MyFirstLib3" >}}</p>
<p>Conforme o programador consegue se livrar das maldi√ß√µes das mil depend√™ncias, aos poucos ele vai conseguindo novas fun√ß√µes gen√©ricas e encaix√°veis para colocar em sua cole√ß√£o de objs.  Essa com certeza n√£o √© uma tarefa f√°cil, mas ei, quem disse que esse trampo de programador seria f√°cil?</p>
<p>Vamos imaginar que voc√™ √© muito do sem imagina√ß√£o (t√≠pico de pessoas que mant√™m blogues) e criou duas fun√ß√µes lind√≠ssimas que somam e multiplicam dois n√∫meros:</p>
<p>```c++</p>
<p>int sum(int a, int b)</p>
<p>int mult(int a, int b)</p>
<p>```</p>
<p>N√£o s√£o aquelas coisas, mas s√£o gen√©ricas e, at√© certo ponto, "√∫teis" para o nosso exemplo.</p>
<p>Agora, tudo que temos que fazer √© criar dois arquivos: mymath.c e mymath.h. No mymath.c, colocamos   as fun√ß√µes acima exatamente como est√£o. No mymath.h, colocamos apenas as declara√ß√µes dessas duas fun√ß√µes, apenas para avisar outros ".c" que existem duas fun√ß√µes que fazem coisas incr√≠veis nessa nossa LIB.</p>
<p>```cpp</p>
<p>/* soma dois n√∫meros */</p>
<p>int sum(int a, int b);</p>
<p>/* multiplica dois n√∫meros */</p>
<p>int mult(int a, int b);</p>
<p>```</p>
<p>Adicionamos esses dois arquivos ao projeto (se j√° n√£o est√£o), e voil√†!</p>
<p>```</p>
<p>------ Build started: Project: MyFirstLib, Configuration: Debug Win32 ------</p>
<p>Compiling...</p>
<p>mymath.c</p>
<p>Creating library...</p>
<p>Build log was saved at "file://c:\Projects\temp\MyFirstLib\Debug\BuildLog.htm"</p>
<p>MyFirstLib - 0 error(s), 0 warning(s)</p>
<p>```</p>
<p>Para usar uma LIB temos in√∫meras maneiras de faz√™-lo. A mais simples que eu conhe√ßo √© criar um novo projeto no mesmo Solution de sua LIB. Um console, por exemplo:</p>
<p>{{< image src="myfirstlib4.png" caption="MyFirstLib4" >}}</p>
<p>{{< image src="myfirstlib5.png" caption="MyFirstLib5" >}}</p>
<p>{{< image src="myfirstlib6.png" caption="MyFirstLib6" >}}</p>
<p>Se voc√™ seguiu todos os passos direitinho, e eu estou assumindo que voc√™ j√° sabia como criar um projeto console, sua sa√≠da da compila√ß√£o talvez seja mais ou menos essa:</p>
<p>```</p>
<p>------ Build started: Project: MyFirstCmd, Configuration: Debug Win32 ------</p>
<p>Compiling...</p>
<p>mycmd.c</p>
<p>Linking...</p>
<p>mycmd.obj : error LNK2019: unresolved external symbol mult referenced in function main</p>
<p>mycmd.obj : error LNK2019: unresolved external symbol sum referenced in function main</p>
<p>c:\Projects\temp\MyFirstLib\Debug\MyFirstCmd.exe : fatal error LNK1120: 2 unresolved externals</p>
<p>Build log was saved at "file://c:\Projects\temp\MyFirstCmd\Debug\BuildLog.htm"</p>
<p>MyFirstCmd - 3 error(s), 0 warning(s)</p>
<p>```</p>
<p>Dois erros! Ele n√£o achou os s√≠mbolos mult e sum. Mas eles est√£o logo ali! E agora?</p>
<p>Nada a temer: tudo que temos que fazer √© falar para o Solution que o projeto myfirstcmd depende do projeto myfirstlib:</p>
<p>{{< image src="myfirstlib7.png" caption="MyFirstLib7" >}}</p>
<p>{{< image src="myfirstlib8.png" caption="MyFirstLib8" >}}</p>
<p>```</p>
<p>------ Build started: Project: MyFirstCmd, Configuration: Debug Win32 ------</p>
<p>Linking...</p>
<p>Embedding manifest...</p>
<p>Microsoft (R) Windows (R) Resource Compiler Version 6.0.5724.0</p>
<p>Copyright (C) Microsoft Corporation.  All rights reserved.</p>
<p>Build log was saved at "file://c:\Projects\temp\MyFirstCmd\Debug\BuildLog.htm"</p>
<p>MyFirstCmd - 0 error(s), 0 warning(s)</p>
<p>```</p>
<p>Isso resolve o problema de organiza√ß√£o e compila√ß√£o quando temos dezenas de ".c" espalhados pelo projeto. Existem melhores alternativas, mais bem organizadas e estruturadas, inclusive ling√ºisticamente falando. No entanto, tudo tem sua hora, e s√≥ se deve preocupar-se com isso quando sua solu√ß√£o tiver algumas dezenas de ".lib". At√© l√°!</p>
</div>
  <div class="taglist">
  <p class="author">Wanderley Caloni,
     <a href="https://github.com/Caloni/blog/blob/master/content/posts/todo-dunno-original-post-source">
     2012-02-15 00:00:00 &#43;0000
     </a>
  </p>
  <a href="/categories/writting">writting</a> 
  <a href="/tags/movies">movies</a> 
  <a class="externalgray" href="https://t.me/paneloni">discuss</a>
  <script type="text/javascript" src="//cdn.livetrafficfeed.com/static/hitcounterjs/live.js?sty=49&min=1&sta=0&uni=1&tz=America%2FSao_Paulo&ro=0"></script><noscript id="LTF_hitcounter"><a href="https://livetrafficfeed.com/hit-counter">Hit Counter</a></noscript>
  </div>
  </div>
  </body>
  </html>
