<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article">
  <head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Blogue do Caloni - 2 Coelhos</title>
  <meta name="author" content="" />
  <meta name="generator" content="Hugo 0.110.0">
  <meta property="og:title" content="2 Coelhos"/>
  <meta property="og:type"
        content="article"/>
  <meta property="og:url" content="http://www.caloni.com.br/todo-put-original-title-slug/"/>
  <meta property="og:image"
        content="/img/author.jpg"/>
  <meta property="og:description"
        content="Uma montagem impec·vel consegue dar o tom da narrativa do complexo 2 Coelhos. AlÈm de complexo, existem pequenos detalhes da trama que forÁam um pouco a realidade (como a uni„o entre o protagonista e..."/>
  <link href="" rel="feed" type="application/rss+xml"
        title="Blogue do Caloni"/>
  <link rel="stylesheet" type="text/css" href="/css/custom.css"/>
  <link rel="stylesheet" type="text/css" href="/css/jquery-ui.css"/>
  <link rel="stylesheet" type="text/css" href="/css/board-min.css"/>
  <script src="/js/jquery-1.10.2.js"></script>
  <script src="/js/jquery-ui.js"></script>
  <script src="/js/pgnyui.js"></script>
  <script src="/js/pgnviewer.js"></script>
  <script src="/js/list.js"></script>
  <link rel="icon" href="/img/favicon.ico"/>
</head>
<body style="min-height:100vh;display:flex;flex-direction:column">
  <nav class="navbar has-shadow is-white"
        role="navigation" aria-label="main navigation">
  <div class="container">
  <div class="navbar-brand">
  <pre><span style="font-size: 3px; margin: 0; display: block;">
&amp;*/. .*%@@@@@@@@@@@@&amp;/    , &amp;@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@#,*@@@@%,*&amp;@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@./@.(@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@**#./((,*, *./((*,#,&amp;@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@.#@@%&amp;@@* (@@%&amp;@@/#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@,#@@&amp;&amp;@@, (@@&amp;&amp;@@*#@@@@@@@@@@@@@#/,,.         ..,/#&amp;@@@@@@@@@@@@@@@@@@@@@@@
@@@@@&amp;, .//      .//  .%@@@@@@&amp;#.  .,****.,*************,.  .(&amp;@@@@@@@@@@@@@@@@@
@@@*                     ,@/  .**,,,*********,   ,***,   ****    *@@@@@@@@@@@@@@
@#                         ,***      .******       ,***,*****,      *&amp;@@@@@@@@@@
&amp;                           ,**      .******.     .******************  (@@@@@@@@
                             ****..,*************************,    ,***   (@@@@@@
@@@@#,,,,,,,,,,,,,,,,,,,,*********,   ,**************,  .***,      .**. .  %@@@@
@@@@%                   .***,.,****,.,***,     ,****      ***.     ,******, /@@@
@@@@@&amp;.                ,**       *******,       *****,  .******************, *@@
@@@@@@@&amp;,            ,****      .********,.   .*************,  ,*****,    ,** /@
@@@@@@@@@@@@&amp;/ .****,    ************.   ****************************      **. #
@@@@@@@@@@@@@, *****,    ,***********    .******,   ,****.   .*****,***,,***** ,
@@@@@@@@@@@@&amp;..**************,  ,***********************       ,*,    ********..
@@@@@@@@@@@@&amp; ,**.    ,******.  .*******.    .**********,     .**********. .**, 
@@@@@@@@@@@@% ,*       ,***************.      .*****************************,   
@@@@@@@@@@@@@&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;@,(&amp;&amp;&amp;&amp;@,(&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;#*@&amp;&amp;&amp;@*#&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;
@@@@@@@@@@@@@@@@@@@@@@@@@@@@(.#@@@@(.#@@@@@@@@@@@@@@@@@@@@@#**@@@@(.#@@@@@@@@@@@
  </span></pre>
  &nbsp;
  <a class="navbar-item" title="Go to Home" href="/">
    <div class="is-6">Blogue do Caloni</div>
  </a>
  </div>
  </div>
  </nav>
  <div class="container">
  <p class="title">
  <a class="external" href="https://www.caloni.com.br/todo-put-external-link-here">
  Todo Put Post Title Here
  </a>
  </p>
  <div class="content">
<p>{{< image src="iqT5sSy.jpg" caption="cowblet-cover" >}}</p>
<p>De qualquer forma, esse final de semana que passou foi dedicado a resolver o primeiro problema e quem sabe escrever um post a respeito. Imagino que todos tenham acesso ao [enunciado](http://code.google.com/codejam/contest/2984486/dashboard#s=p0) e aos casos de teste, mas, por via das d√∫vidas, aqui vai uma descri√ß√£o adaptada:</p>
<p>Voc√™ √© um fazendeiro hi-tech com uma vaca que tem um tablet. N√£o especifica se esse cowblet √© um iPad, mas √© uma possibilidade, j√° que como nenhum plugue parece encaixar nas tomadas de sua fazenda, √© muito prov√°vel que voc√™ seja um Appleman√≠aco com um monte de gadgets que precisam de conversor vindos direto do eBay.</p>
<p>{{< image src="igQqWOa.jpg" caption="cowblet" >}}</p>
<p>Atrav√©s do eBay tamb√©m veio um engenheiro chin√™s cuja miss√£o √© resolver esse gato que o Sr. Fazendeiro fez em sua fazenda. Tudo que ele precisa fazer √© girar gigantescos switches (ou disjuntores) que invertem a polaridade bin√°ria de cada um dos pino dos conectores das tomadas. Quando um plugue de dispositivo e uma tomada possuem a mesma configura√ß√£o de bits √© poss√≠vel conect√°-los. O objetivo final √© que todos os N plugues conectem nas N tomadas depois de virados Y switches, sendo que quanto menos switches melhor (afinal, eles s√£o gigantescos, e o chin√™s sup√µe-se que seja pequeno).</p>
<p>{{< image src="WGFkBW1.png" caption="ProblemA" >}}</p>
<p>{{< image src="8p1mbvh.png" caption="Tomadao" >}}</p>
<p>Dessa forma, temos que tra√ßar uma solu√ß√£o baseada nas combina√ß√µes entre as tomadas e plugues, que, pelos limites da vers√£o large dos casos de teste, podem ter a quantidade de 150, o que d√° 150*150 = 22500 combina√ß√µes de XOR.</p>
<p>{{< image src="m2eUW9a.jpg" caption="WP_000773" >}}</p>
<p>Sim, de XOR. O XOR aqui pode ser usado para detectarmos qual a combina√ß√£o de switches precisamos para que cada tomada encaixa em cada dispositivo. Esse √© o nosso conjunto universo de giros de disjuntores. Com esse conjunto em m√£os fica f√°cil saber quais combina√ß√µes s√£o poss√≠veis de encaixar todos os dispositivos: basta contar!</p>
<p>```</p>
<p>#include "CodeJam.h"</p>
<p>#include <algorithm></p>
<p>#include <map></p>
<p>#include <vector></p>
<p>#include <set></p>
<p>#include <string></p>
<p>using namespace std;</p>
<p>static const int MAX_SWITCHES = 40;</p>
<p>__int64 StringToInt(const string& s, int L)</p>
<p>	__int64 ret = 0;</p>
<p>	for( int l = L; l; --l )</p>
<p>		char c = s[L-l];</p>
<p>		if( c == '1' )</p>
<p>			ret |= ((__int64)1 << (l-1));</p>
<p>	return ret;</p>
<p>int CountBits(__int64 value)</p>
<p>	int ret = 0;</p>
<p>	while( value )</p>
<p>		if( value & 1 )</p>
<p>			++ret;</p>
<p>		value >>= 1;</p>
<p>	return ret;</p>
<p>void TestCase(std::istream& is, std::ostream& os)</p>
<p>	int N, L;</p>
<p>	is >> N >> L;</p>
<p>	vector<__int64> outlets;</p>
<p>	vector<__int64> devices;</p>
<p>	string eletricItem;</p>
<p>	for( int n = 0; n < N; ++n )</p>
<p>		is >> eletricItem;</p>
<p>		outlets.push_back(StringToInt(eletricItem, L));</p>
<p>	for( int n = 0; n < N; ++n )</p>
<p>		is >> eletricItem;</p>
<p>		devices.push_back(StringToInt(eletricItem, L));</p>
<p>	typedef map<__int64, set<int>> SwitchOcurrences;</p>
<p>	SwitchOcurrences switchOcurrences;</p>
<p>	for( int n = 0; n < N; ++n )</p>
<p>		__int64 outlet = outlets[n];</p>
<p>		for( int n2 = 0; n2 < N; ++n2 )</p>
<p>		{</p>
<p>			__int64 device = devices[n2];</p>
<p>			__int64 connection = outlet ^ device;</p>
<p>			switchOcurrences[connection].insert(n);</p>
<p>		}</p>
<p>	for(auto it = switchOcurrences.begin(); it != switchOcurrences.end(); )</p>
<p>		if( it->second.size() != N )</p>
<p>			it = switchOcurrences.erase(it);</p>
<p>		else</p>
<p>			++it;</p>
<p>	if( switchOcurrences.size() )</p>
<p>		int switches = MAX_SWITCHES + 1;</p>
<p>		for_each(switchOcurrences.begin(), switchOcurrences.end(), [&](const SwitchOcurrences::value_type& ocurrence)</p>
<p>		{</p>
<p>			int bits = CountBits(ocurrence.first);</p>
<p>			switches = min(switches, bits);</p>
<p>		});</p>
<p>		os << switches << endl;</p>
<p>	else os << "NOT POSSIBLE\n";</p>
<p>```</p>
<p>_Observa√ß√£o: note que retirei o wrapper costumeiro dos exerc√≠cios do Code Jam para n√£o poluir demais o exemplo com c√≥digo. E, na verdade, essa parte do c√≥digo est√° compartilhada com todas as solu√ß√µes (reuse!)._</p>
<p>Que venha a segunda bateria de problemas!</p>
</div>
  <div class="taglist">
  <p class="author">Wanderley Caloni,
     <a href="https://github.com/Caloni/blog/blob/master/content/posts/todo-dunno-original-post-source">
     2012-02-15 00:00:00 &#43;0000
     </a>
  </p>
  <a href="/categories/writting">writting</a> 
  <a href="/tags/movies">movies</a> 
  <a class="externalgray" href="https://t.me/paneloni">discuss</a>
  <script type="text/javascript" src="//cdn.livetrafficfeed.com/static/hitcounterjs/live.js?sty=49&min=1&sta=0&uni=1&tz=America%2FSao_Paulo&ro=0"></script><noscript id="LTF_hitcounter"><a href="https://livetrafficfeed.com/hit-counter">Hit Counter</a></noscript>
  </div>
  </div>
  </body>
  </html>
