<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article">
  <head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Blogue do Caloni - 2 Coelhos</title>
  <meta name="author" content="" />
  <meta name="generator" content="Hugo 0.110.0">
  <meta property="og:title" content="2 Coelhos"/>
  <meta property="og:type"
        content="article"/>
  <meta property="og:url" content="http://www.caloni.com.br/todo-put-original-title-slug/"/>
  <meta property="og:image"
        content="/img/author.jpg"/>
  <meta property="og:description"
        content="Uma montagem impec·vel consegue dar o tom da narrativa do complexo 2 Coelhos. AlÈm de complexo, existem pequenos detalhes da trama que forÁam um pouco a realidade (como a uni„o entre o protagonista e..."/>
  <link href="" rel="feed" type="application/rss+xml"
        title="Blogue do Caloni"/>
  <link rel="stylesheet" type="text/css" href="/css/custom.css"/>
  <link rel="stylesheet" type="text/css" href="/css/jquery-ui.css"/>
  <link rel="stylesheet" type="text/css" href="/css/board-min.css"/>
  <script src="/js/jquery-1.10.2.js"></script>
  <script src="/js/jquery-ui.js"></script>
  <script src="/js/pgnyui.js"></script>
  <script src="/js/pgnviewer.js"></script>
  <script src="/js/list.js"></script>
  <link rel="icon" href="/img/favicon.ico"/>
</head>
<body style="min-height:100vh;display:flex;flex-direction:column">
  <nav class="navbar has-shadow is-white"
        role="navigation" aria-label="main navigation">
  <div class="container">
  <div class="navbar-brand">
  <pre><span style="font-size: 3px; margin: 0; display: block;">
&amp;*/. .*%@@@@@@@@@@@@&amp;/    , &amp;@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@#,*@@@@%,*&amp;@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@./@.(@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@**#./((,*, *./((*,#,&amp;@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@.#@@%&amp;@@* (@@%&amp;@@/#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@,#@@&amp;&amp;@@, (@@&amp;&amp;@@*#@@@@@@@@@@@@@#/,,.         ..,/#&amp;@@@@@@@@@@@@@@@@@@@@@@@
@@@@@&amp;, .//      .//  .%@@@@@@&amp;#.  .,****.,*************,.  .(&amp;@@@@@@@@@@@@@@@@@
@@@*                     ,@/  .**,,,*********,   ,***,   ****    *@@@@@@@@@@@@@@
@#                         ,***      .******       ,***,*****,      *&amp;@@@@@@@@@@
&amp;                           ,**      .******.     .******************  (@@@@@@@@
                             ****..,*************************,    ,***   (@@@@@@
@@@@#,,,,,,,,,,,,,,,,,,,,*********,   ,**************,  .***,      .**. .  %@@@@
@@@@%                   .***,.,****,.,***,     ,****      ***.     ,******, /@@@
@@@@@&amp;.                ,**       *******,       *****,  .******************, *@@
@@@@@@@&amp;,            ,****      .********,.   .*************,  ,*****,    ,** /@
@@@@@@@@@@@@&amp;/ .****,    ************.   ****************************      **. #
@@@@@@@@@@@@@, *****,    ,***********    .******,   ,****.   .*****,***,,***** ,
@@@@@@@@@@@@&amp;..**************,  ,***********************       ,*,    ********..
@@@@@@@@@@@@&amp; ,**.    ,******.  .*******.    .**********,     .**********. .**, 
@@@@@@@@@@@@% ,*       ,***************.      .*****************************,   
@@@@@@@@@@@@@&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;@,(&amp;&amp;&amp;&amp;@,(&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;#*@&amp;&amp;&amp;@*#&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;
@@@@@@@@@@@@@@@@@@@@@@@@@@@@(.#@@@@(.#@@@@@@@@@@@@@@@@@@@@@#**@@@@(.#@@@@@@@@@@@
  </span></pre>
  &nbsp;
  <a class="navbar-item" title="Go to Home" href="/">
    <div class="is-6">Blogue do Caloni</div>
  </a>
  </div>
  </div>
  </nav>
  <div class="container">
  <p class="title">
  <a class="external" href="https://www.caloni.com.br/todo-put-external-link-here">
  Todo Put Post Title Here
  </a>
  </p>
  <div class="content">
<p># Introduction</p>
<p>Meu amigo sugeriu que aprender awk poderia ser √∫til de v√°rias maneiras. Uma delas para organizar finan√ßas pessoais. Dei uma lida em alguns tutoriais, sendo que o melhor custo benef√≠cio foi o [Awk in 20 Minutes](https://ferd.ca/awk-in-20-minutes.html), de Fred Hebert (ele √© o mesmo autor de um livro sobre erlang). Gostei. √â sobre tratamento de texto como sed, mas em uma vers√£o estendida e criada na √©poca com a mesma sintaxe de C.</p>
<p>Agora que vou palestrar sobre no Native Floripa de 2022 eu dei uma olhada em outro tutorial muito bom que eu vou chamar de [Tutorial from an Experient Mind](https://www.grymoire.com/Unix/Awk.html), de Bruce Barnett. Ele vai um pouco al√©m porque √© de algu√©m interessado em contar alguns macetes que d√£o uma vis√£o mais interna da linguagem. E para refer√™ncia eu considero o [Gawk Guide](https://www.gnu.org/software/gawk/manual/gawk.html) como um √≥timo compilado.</p>
<p>## 1977</p>
<p>Por ela ser uma ferramenta antiga, criada por Alfred Aho, Peter Weinberger e Brian Kernighan na d√©cada de 70, AWK usa conceitos antigos, como field e record. Ela foi criada para formatar texto em formato de planilha, ou banco de dados. Um field, ou campo, √© uma coluna na planilha, e um record, ou registro, √© uma linha dessa planilha. Imagine que voc√™ pode usar awk para manipular e extrair dados de qualquer texto que contenha esse padr√£o, sendo que os detalhes como o separador de campos e registros, por padr√£o espa√ßo e nova-linha, podem ser alterados no come√ßo do programa ou via par√¢metros.</p>
<p>```</p>
<p>BEGIN {</p>
<p>  print "FS:", FS;</p>
<p>  print "RS:", RS;</p>
<p>  print "OFS:", OFS;</p>
<p>  print "ORS:", ORS;</p>
<p>}</p>
<p>{</p>
<p>  print "NF:", NF</p>
<p>  print "NR:", NR</p>
<p>  print "$0:", $0;</p>
<p>  print "$1:", $1;</p>
<p>  print "$2:", $2;</p>
<p>  print "$NR:", $NR;</p>
<p>  print "";</p>
<p>}</p>
<p>```</p>
<p>## One line at a time</p>
<p>```</p>
<p>pattern { action }</p>
<p>        { action }</p>
<p>pattern </p>
<p>```</p>
<p>Se n√£o houver padr√£o ent√£o a a√ß√£o √© executada sempre. Se n√£o houver a√ß√£o, ent√£o sempre que o padr√£o for encontrado em uma linha o programa imprime a linha. Ou seja, h√° um valor default para padr√£o e a√ß√£o.</p>
<p>```</p>
<p>awk '/test/'</p>
<p>awk '{ print }'</p>
<p>awk '/test/ { print }'</p>
<p>awk '{ if( $0 ~ "test" ) print }'</p>
<p>awk '{ if( $0 ~ "test" ) print $2 }'</p>
<p>```</p>
<p>> </p>
<p>> Awk maintains a delicate balance between being a line-oriented utility like grep and a full programming language. - Andy Oram</p>
<p>></p>
<p>## Program</p>
<p>Um Hello World interessante do AWK √© imprimir a lista de arquivos e seus propriet√°rios de uma pasta se baseando no comando `ls -l`. Isso demonstra os conceitos b√°sicos da linguagem e ainda √© √∫til.</p>
<p>```</p>
<p>pattern { action }</p>
<p>BEGIN { print "START" }</p>
<p>      { print         }</p>
<p>END   { print "STOP"  }</p>
<p>BEGIN { print "File\tOwner"}</p>
<p>{ print $9, "\t", $3}</p>
<p>END { print " - DONE -" }</p>
<p>ls -l | awk '{ print $9, "\t", $3}'</p>
<p>```</p>
<p>## How to run</p>
<p>O uso do par√¢metro `-f` √© para conseguirmos rodar programas AWK sem se preocupar se ele √© um script. Dessa forma ele funciona como se fosse um bash script:</p>
<p>```</p>
<p>#!/bin/sh</p>
<p># Linux users have to change $8 to $9</p>
<p>awk '</p>
<p>BEGIN { print "File\tOwner" }</p>
<p>{ print $8, "\t", $3}</p>
<p>END { print " - DONE -" }</p>
<p>'</p>
<p>```</p>
<p>## Tricks</p>
<p> - Awk tem internamente dois tipos primitivos (fora o array associativo): `float` e `string`.</p>
<p> - Awk converte "123X" em 0; Nawk converte em 123.</p>
<p> - A value of 0 is false, while anything else is true.</p>
<p> - Undefined variables has the value of 0.</p>
<p> - Unlike AWK, NAWK lets you use booleans as integers.</p>
<p> - A positional variable is not a special variable, but a function triggered by the dollar sign.</p>
<p> - All interpreter scripts accept one and only one argument; so, `/bin/awk -f`.</p>
<p>## Research</p>
<p> - [An√°lise de DNA]</p>
<p> - [An√°lise de performance]</p>
<p>## Reference</p>
<p> - [Awk in 20 Minutes](https://ferd.ca/awk-in-20-minutes.html), de Fred Hebert.</p>
<p> - [Tutorial from an Experient Mind](https://www.grymoire.com/Unix/Awk.html), de Bruce Barnett.</p>
<p> - [Gawk Guide](https://www.gnu.org/software/gawk/manual/gawk.html).</p>
<p>[An√°lise de DNA]: {{< relref "awk-dna" >}}</p>
<p>[An√°lise de performance]: {{< relref "awk-performance" >}}</p>

</div>
  <div class="taglist">
  <p class="author">Wanderley Caloni,
     <a href="https://github.com/Caloni/blog/blob/master/content/posts/todo-dunno-original-post-source">
     2012-02-15 00:00:00 &#43;0000
     </a>
  </p>
  <a href="/categories/writting">writting</a> 
  <a href="/tags/movies">movies</a> 
  <a class="externalgray" href="https://t.me/paneloni">discuss</a>
  <script type="text/javascript" src="//cdn.livetrafficfeed.com/static/hitcounterjs/live.js?sty=49&min=1&sta=0&uni=1&tz=America%2FSao_Paulo&ro=0"></script><noscript id="LTF_hitcounter"><a href="https://livetrafficfeed.com/hit-counter">Hit Counter</a></noscript>
  </div>
  </div>
  </body>
  </html>
