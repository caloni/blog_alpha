<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article">
  <head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Blogue do Caloni - 2 Coelhos</title>
  <meta name="author" content="" />
  <meta name="generator" content="Hugo 0.110.0">
  <meta property="og:title" content="2 Coelhos"/>
  <meta property="og:type"
        content="article"/>
  <meta property="og:url" content="http://www.caloni.com.br/todo-put-original-title-slug/"/>
  <meta property="og:image"
        content="/img/author.jpg"/>
  <meta property="og:description"
        content="Uma montagem impec·vel consegue dar o tom da narrativa do complexo 2 Coelhos. AlÈm de complexo, existem pequenos detalhes da trama que forÁam um pouco a realidade (como a uni„o entre o protagonista e..."/>
  <link href="" rel="feed" type="application/rss+xml"
        title="Blogue do Caloni"/>
  <link rel="stylesheet" type="text/css" href="/css/custom.css"/>
  <link rel="stylesheet" type="text/css" href="/css/jquery-ui.css"/>
  <link rel="stylesheet" type="text/css" href="/css/board-min.css"/>
  <script src="/js/jquery-1.10.2.js"></script>
  <script src="/js/jquery-ui.js"></script>
  <script src="/js/pgnyui.js"></script>
  <script src="/js/pgnviewer.js"></script>
  <script src="/js/list.js"></script>
  <link rel="icon" href="/img/favicon.ico"/>
</head>
<body style="min-height:100vh;display:flex;flex-direction:column">
  <nav class="navbar has-shadow is-white"
        role="navigation" aria-label="main navigation">
  <div class="container">
  <div class="navbar-brand">
  <pre><span style="font-size: 3px; margin: 0; display: block;">
&amp;*/. .*%@@@@@@@@@@@@&amp;/    , &amp;@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@#,*@@@@%,*&amp;@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@./@.(@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@**#./((,*, *./((*,#,&amp;@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@.#@@%&amp;@@* (@@%&amp;@@/#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@,#@@&amp;&amp;@@, (@@&amp;&amp;@@*#@@@@@@@@@@@@@#/,,.         ..,/#&amp;@@@@@@@@@@@@@@@@@@@@@@@
@@@@@&amp;, .//      .//  .%@@@@@@&amp;#.  .,****.,*************,.  .(&amp;@@@@@@@@@@@@@@@@@
@@@*                     ,@/  .**,,,*********,   ,***,   ****    *@@@@@@@@@@@@@@
@#                         ,***      .******       ,***,*****,      *&amp;@@@@@@@@@@
&amp;                           ,**      .******.     .******************  (@@@@@@@@
                             ****..,*************************,    ,***   (@@@@@@
@@@@#,,,,,,,,,,,,,,,,,,,,*********,   ,**************,  .***,      .**. .  %@@@@
@@@@%                   .***,.,****,.,***,     ,****      ***.     ,******, /@@@
@@@@@&amp;.                ,**       *******,       *****,  .******************, *@@
@@@@@@@&amp;,            ,****      .********,.   .*************,  ,*****,    ,** /@
@@@@@@@@@@@@&amp;/ .****,    ************.   ****************************      **. #
@@@@@@@@@@@@@, *****,    ,***********    .******,   ,****.   .*****,***,,***** ,
@@@@@@@@@@@@&amp;..**************,  ,***********************       ,*,    ********..
@@@@@@@@@@@@&amp; ,**.    ,******.  .*******.    .**********,     .**********. .**, 
@@@@@@@@@@@@% ,*       ,***************.      .*****************************,   
@@@@@@@@@@@@@&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;@,(&amp;&amp;&amp;&amp;@,(&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;#*@&amp;&amp;&amp;@*#&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;
@@@@@@@@@@@@@@@@@@@@@@@@@@@@(.#@@@@(.#@@@@@@@@@@@@@@@@@@@@@#**@@@@(.#@@@@@@@@@@@
  </span></pre>
  &nbsp;
  <a class="navbar-item" title="Go to Home" href="/">
    <div class="is-6">Blogue do Caloni</div>
  </a>
  </div>
  </div>
  </nav>
  <div class="container">
  <p class="title">
  <a class="external" href="https://www.caloni.com.br/todo-put-external-link-here">
  Todo Put Post Title Here
  </a>
  </p>
  <div class="content">
<p>Se voc√™ √© programador √© bem prov√°vel que j√° tenha ouvido falar em [Flow] ou [The Zone]. Se for leitor ass√≠duo do Hacker News, ent√£o, nem se fala. De qualquer forma, uma das maneira mais produtivas do programador programar √© entrar na famosa "zona". √â l√° que muito de n√≥s nascemos. Lembra a primeira vez que mexeu em um computador ou afim e ficou t√£o obcecado que n√£o viu o tempo passar? Pois bem. Voc√™ esteve na zona. E estar nela √© um bom lugar para trabalhar.</p>
<p>Na zona, principalmente resolvendo problemas complexos, o importante √© poder construir uma estrutura em sua mente com a ajuda de alguns aparatos, como um caderno de anota√ß√µes, stickers, lousa ou seu editor preferido. Meu editor preferido para navegar (flow) por um c√≥digo √© sem sombra de d√∫vida o Vim, pois ele √© apenas uma tela que preenche todo meu campo de vis√£o e possui comandos em que eu consigo facilmente acessar o conte√∫do que preciso relembrar. Quando estou obtendo o diagn√≥stico de um log, por exemplo, posso rapidamente ir construindo um modelo mental da solu√ß√£o navegando entre arquivos de log e c√≥digo-fonte atrav√©s de tags e buscas em regex.</p>
<p>A primeira vantagem do Vim em rela√ß√£o a outros editores √© sua capacidade de abrir arquivos grandes. Um log de 1GB pode ser um desafio para um Notepad da vida, e at√© para um Visual Studio, mas no Vim tudo que voc√™ precisa √© de mem√≥ria dispon√≠vel. E mesmo que n√£o tenha, o Windows se vira bem no gerenciamento de swap (ou Linux, tanto faz).</p>
<p>Para navegar no c√≥digo, existem duas t√©cnicas que n√£o necessitam de nenhum plugin. A primeira √© a busca por regex, que pode ser feita com os comandos [:vimgrep](http://vimdoc.sourceforge.net/htmldoc/quickfix.html#:vimgrep) ou [:grep](http://vimdoc.sourceforge.net/htmldoc/quickfix.html#:grep), sendo que o primeiro busca em um padr√£o de arquivos (usando wildcard) e o segundo dentro dos buffers j√° abertos (√∫til se voc√™ j√° tiver uma sess√£o ativa; mais sobre isso depois).</p>
<p>```</p>
<p>" No Vim n√£o √© necess√°rio digitar o comando completo; note que esse wildcard busca pastas recursivamente</p>
<p>:vimg /regex/ \Projects\SomeProject\**\*.cpp</p>
<p>" Isso busca em todos os buffers abertos cujo arquivo tem a extens√£o de C++</p>
<p>:grep regex *.cpp</p>
<p>```</p>
<p>O bom √© que, no caso de logs, se voc√™ buscar por express√µes un√≠vocas, isso j√° fica no hist√≥rico de seus comandos e voc√™ pode usar quando quiser para voltar para esses logs (ou se voc√™ for maluco e guardar de cabe√ßa seus marks, pode criar um mark de vez).</p>
<p>A segunda t√©cnica de navegar no c√≥digo √© atrav√©s das tags que s√£o montadas pela ferramenta ctags. Ela √© gen√©rica o suficiente para suportar v√°rias linguagens, mas pode ser usada at√© para qualquer sequ√™ncia de palavras. H√° plugins que realizam essa varredura do fonte autom√°tica, mas particularmente n√£o gosto de encher meu Vim de plugins, sendo que o √∫nico que uso que me lembro √© o [MRU](http://www.vim.org/scripts/script.php?script_id=521) (porque o Vim ainda n√£o suporta algo do g√™nero internamente). De qualquer forma, tudo que eu preciso fazer para atualizar as tags de um projeto √© abrir o readme do projeto (que geralmente fica na pasta raiz) e rodar meu atalho.</p>
<p>```</p>
<p>" Roda recursivamente e otimiza para C++ e Python.</p>
<p>map <S-F5> :!ctags --tag-relative=yes --recurse --c++-kinds=+p --python-kinds=-i --fields=+iaS --extra=+q<CR></p>
<p>" Busca pelo arquivo tags na pasta atual e vai subindo a hierarquia.</p>
<p>set tags=tags;</p>
<p>```</p>
<p>Isso vai gerar um arquivo ctags na pasta do projeto que ser√° usada automaticamente para procurar pelas tags que eu preciso. O pulo do gato na verdade √© o ponto-e-v√≠rgula ap√≥s o nome do arquivo ao setar a vari√°vel tags. Isso faz com que o Vim n√£o busque apenas o arquivo tags na pasta atual, mas em toda hierarquia. Ent√£o se voc√™ estiver na pasta Projects\SomeProject\Folder1\Folder2\Folder3\File.cpp e tiver gerado o arquivo tags na pasta SomeProject para todo o projeto, ao usar o comando de busca de tag ele eventualmente vai abrir esse arquivo tags, pois ele vai procurando em Folder3, Folder2, Folder1 e cai em SomeProject.</p>
<p>Como no Windows o atalho padr√£o do comando tag do Vim n√£o funciona tamb√©m preciso fazer uma pequena adapta√ß√£o t√©cnica (e de quebra j√° uso para navegar nos pr√≥ximos resultados):</p>
<p>```</p>
<p>map <C-K> <C-]></p>
<p>" O bom √© que o first e o next ficam um do lado do outro.</p>
<p>map <C-J> :tnext<CR></p>
<p>```</p>
<p>Depois de dar uma olhada no log, encontrar os m√©todos que voc√™ precisa analisar, seu fluxo, etc, voc√™ ter√° um monte de buffers relevantes abertos nas linhas relevantes. Seria muito bom se tudo isso pudesse ser guardado em um estado para que voc√™ continue amanh√£ ou em sua pr√≥xima sess√£o de flow. Para isso existe o comando [:mksession](http://vimdoc.sourceforge.net/htmldoc/starting.html#:mksession).</p>
<p>```</p>
<p>" Salva estado atual dos buffers</p>
<p>:mksession \temp\analise.vim</p>
<p>" Restaura um estado salvo anteriomente</p>
<p>:so \temp\analise.vim</p>
<p>```</p>
<p>O comando [:source](http://vimdoc.sourceforge.net/htmldoc/repeat.html#:source) roda um script vim que possui comandos guardados. Ele √© um arquivo texto semelhante ao vimrc.</p>
<p>Basicamente √© isso. Tudo o que voc√™ precisa em sua an√°lise de fonte e de log se encontra na ponta de seus dedos. N√£o √© necess√°rio abrir nenhuma pasta nem terminal. Simplesmente navegue atrav√©s do Vim para descobrir o problema e seja feliz em sua zona.</p>
<p>[Flow]: https://en.wikipedia.org/wiki/Flow_(psychology)</p>
<p>[The Zone]: https://hn.algolia.com/?query=the%20zone</p>

</div>
  <div class="taglist">
  <p class="author">Wanderley Caloni,
     <a href="https://github.com/Caloni/blog/blob/master/content/posts/todo-dunno-original-post-source">
     2012-02-15 00:00:00 &#43;0000
     </a>
  </p>
  <a href="/categories/writting">writting</a> 
  <a href="/tags/movies">movies</a> 
  <a class="externalgray" href="https://t.me/paneloni">discuss</a>
  <script type="text/javascript" src="//cdn.livetrafficfeed.com/static/hitcounterjs/live.js?sty=49&min=1&sta=0&uni=1&tz=America%2FSao_Paulo&ro=0"></script><noscript id="LTF_hitcounter"><a href="https://livetrafficfeed.com/hit-counter">Hit Counter</a></noscript>
  </div>
  </div>
  </body>
  </html>
