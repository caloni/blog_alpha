<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article">
  <head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Blogue do Caloni - 2 Coelhos</title>
  <meta name="author" content="" />
  <meta name="generator" content="Hugo 0.110.0">
  <meta property="og:title" content="2 Coelhos"/>
  <meta property="og:type"
        content="article"/>
  <meta property="og:url" content="http://www.caloni.com.br/todo-put-original-title-slug/"/>
  <meta property="og:image"
        content="/img/author.jpg"/>
  <meta property="og:description"
        content="Uma montagem impec·vel consegue dar o tom da narrativa do complexo 2 Coelhos. AlÈm de complexo, existem pequenos detalhes da trama que forÁam um pouco a realidade (como a uni„o entre o protagonista e..."/>
  <link href="" rel="feed" type="application/rss+xml"
        title="Blogue do Caloni"/>
  <link rel="stylesheet" type="text/css" href="/css/custom.css"/>
  <link rel="stylesheet" type="text/css" href="/css/jquery-ui.css"/>
  <link rel="stylesheet" type="text/css" href="/css/board-min.css"/>
  <script src="/js/jquery-1.10.2.js"></script>
  <script src="/js/jquery-ui.js"></script>
  <script src="/js/pgnyui.js"></script>
  <script src="/js/pgnviewer.js"></script>
  <script src="/js/list.js"></script>
  <link rel="icon" href="/img/favicon.ico"/>
</head>
<body style="min-height:100vh;display:flex;flex-direction:column">
  <nav class="navbar has-shadow is-white"
        role="navigation" aria-label="main navigation">
  <div class="container">
  <div class="navbar-brand">
  <pre><span style="font-size: 3px; margin: 0; display: block;">
&amp;*/. .*%@@@@@@@@@@@@&amp;/    , &amp;@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@#,*@@@@%,*&amp;@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@./@.(@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@**#./((,*, *./((*,#,&amp;@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@.#@@%&amp;@@* (@@%&amp;@@/#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@,#@@&amp;&amp;@@, (@@&amp;&amp;@@*#@@@@@@@@@@@@@#/,,.         ..,/#&amp;@@@@@@@@@@@@@@@@@@@@@@@
@@@@@&amp;, .//      .//  .%@@@@@@&amp;#.  .,****.,*************,.  .(&amp;@@@@@@@@@@@@@@@@@
@@@*                     ,@/  .**,,,*********,   ,***,   ****    *@@@@@@@@@@@@@@
@#                         ,***      .******       ,***,*****,      *&amp;@@@@@@@@@@
&amp;                           ,**      .******.     .******************  (@@@@@@@@
                             ****..,*************************,    ,***   (@@@@@@
@@@@#,,,,,,,,,,,,,,,,,,,,*********,   ,**************,  .***,      .**. .  %@@@@
@@@@%                   .***,.,****,.,***,     ,****      ***.     ,******, /@@@
@@@@@&amp;.                ,**       *******,       *****,  .******************, *@@
@@@@@@@&amp;,            ,****      .********,.   .*************,  ,*****,    ,** /@
@@@@@@@@@@@@&amp;/ .****,    ************.   ****************************      **. #
@@@@@@@@@@@@@, *****,    ,***********    .******,   ,****.   .*****,***,,***** ,
@@@@@@@@@@@@&amp;..**************,  ,***********************       ,*,    ********..
@@@@@@@@@@@@&amp; ,**.    ,******.  .*******.    .**********,     .**********. .**, 
@@@@@@@@@@@@% ,*       ,***************.      .*****************************,   
@@@@@@@@@@@@@&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;@,(&amp;&amp;&amp;&amp;@,(&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;#*@&amp;&amp;&amp;@*#&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;
@@@@@@@@@@@@@@@@@@@@@@@@@@@@(.#@@@@(.#@@@@@@@@@@@@@@@@@@@@@#**@@@@(.#@@@@@@@@@@@
  </span></pre>
  &nbsp;
  <a class="navbar-item" title="Go to Home" href="/">
    <div class="is-6">Blogue do Caloni</div>
  </a>
  </div>
  </div>
  </nav>
  <div class="container">
  <p class="title">
  <a class="external" href="https://www.caloni.com.br/todo-put-external-link-here">
  Todo Put Post Title Here
  </a>
  </p>
  <div class="content">
<p>Em meio a uma febre de consumismo, no dia 24 de agosto de 1995, foi lan√ßado a revolu√ß√£o no sistema gr√°fico da Microsoft: a interface do Windows 95. Ela foi considerada muito mais amig√°vel que suas vers√µes anteriores. Ainda possu√≠a a vantagem de n√£o necessitar mais de uma instala√ß√£o pr√©via do DOS, passou a suportar nomes de arquivos longos, incluir suporte a TCP/IP e dial-up networking integrados. Muitas mudan√ßas foram feitas no sistema em si, como a passagem para 32 bits (como j√° vimos, parcial) e o novo conceito de threads, que √© o que veremos com mais detalhes neste artigo.</p>
<p>{{< image src="windows_95.png" caption="Desktop do Windows 95" >}}</p>
<p>> Bem, o "novo conceito" de threads j√° havia sido implementado no Windows NT desde o seu rascunho e j√° existia no in√≠cio do projeto, mas n√£o no velho Windows 3.1 de 16 bits, que foi a vers√£o anterior ao 95. Parte dos requisitos do sistema foi que ele seria compat√≠vel com o NT no n√≠vel de aplicativo, o que de fato aconteceu.</p>
<p>Para esse milagre da multiplica√ß√£o das threads acontecer a Microsoft foi obrigada a portar boa parte do c√≥digo de 16 bits para 32 e entrar em modo protegido. Mesmo assim, um legado razo√°vel do MS-DOS permaneceu debaixo dos panos suportando o novo sistema operacional atrav√©s de suas interrup√ß√µes e c√≥digo residente. Ou seja, havia ainda partes do SO rodando em modo real.</p>
<p>Com o lan√ßamento da nova vers√£o do NT foi necess√°rio modernizar a interface para ser compat√≠vel com o Windows 95, o que fez com que o Windows 4.0 fosse mais bonitinho. No entanto, o n√∫cleo dos dois sistemas era completamente diferente. Enquanto um era 32 bits puro desde o primeiro int main, o outro era um sistema de compatibilidade para fornecer um Windows caseiro que fosse vend√°vel e desse √† Microsoft o retorno financeiro esperado. Deu certo por um bom tempo, at√© a chegada do Windows XP, que uniu as duas fam√≠lias de sistemas operacionais, pois descontinuou o Windows ME e tornou o Windows 2000 Professional mais amig√°vel para o uso geral.</p>
<p>E como funciona o sistema de threads? Uma thread √© uma linha de execu√ß√£o de c√≥digo. Ser um sistema multithreading significa que ele permite que m√∫ltiplas linhas de execu√ß√£o de c√≥digo rodem em paralelo e, dependendo do n√∫mero de processadores, ao mesmo tempo.</p>
<p>Por√©m, em uma plataforma com apenas um processador, como √© natural supor, apenas uma thread roda de cada vez. Para dar a impress√£o de rodar ao mesmo tempo o tempo de execu√ß√£o das threads √© dividido entre elas, de forma que aparentemente todas elas rodam ao mesmo tempo. Essa unidade de divis√£o do tempo de execu√ß√£o √© conhecido como quantum, ou Time Slice, e √© caracterizado como o tempo em que uma thread fica rodando at√© que outra thread tome o seu lugar, ou seja, ocorra uma troca de contexto (switch context). Quando uma thread √© criada ela ganha seu primeiro time slice (se n√£o iniciar suspensa) e divide o tempo de processamento com outras threads que executam no mesmo processador.</p>
<p>{{< image src="threads_architecture.gif" caption="Arquitetura multithreading" >}}</p>
<p>Para exemplificar o uso de threads imagine um programa que quebra senhas por for√ßa bruta. Funciona assim: enquanto uma thread fica cuidando das mensagens da janela, como digita√ß√£o e movimenta√ß√£o do mouse e janela, uma segunda thread ir√° ficar constantemente tentanto descobrir sua senha digitada por tentativa e erro. Toda vez que √© alterado um caractere na senha, a thread quebradora reinicia seu trabalho.</p>
<p>{{< image src="threads_pwdbreaker.png" caption="PwdBreaker" >}}</p>
<p>Todo programa inicia com uma thread que roda seu int main. A cria√ß√£o de uma nova thread √© feita atrav√©s da chamada da fun√ß√£o API CreateThread.</p>
<p>    void StartBruteForceThread()</p>
<p>    {</p>
<p>      g_bruteForceThread = CreateThread(NULL, </p>
<p>        0, </p>
<p>        BruteForceThread, </p>
<p>        NULL, </p>
<p>        0, </p>
<p>        &g_bruteForceThreadId);</p>
<p>    }</p>
<p>Para quem est√° acompanhando [a s√©rie de artigos sobre o Windows] deve lembrar que assim como na cria√ß√£o de janelas, na cria√ß√£o de uma thread √© passada uma fun√ß√£o de callback. S√≥ que diferente de uma fun√ß√£o de janela, essa fun√ß√£o n√£o √© executada na mesma thread que criou a janela, mas √© um novo "int main" para uma nova linha de execu√ß√£o, que ir√° rodar em paralelo com a primeira. Essa segunda linha de execu√ß√£o termina quando retornamos dessa fun√ß√£o, que no nosso exemplo √© nunca, mas poderia ser quando fosse terminada sua tarefa.</p>
<p>{{< image src="threads_pwdbreaker_windows.png" caption="CreateThread exemplificada" >}}</p>
<p>Bom, acho que para explicar o uso de um sistema multithreading em um artigo s√≥ n√£o basta. Mas para explicar por que sua senha deve ter mais de tr√™s caracteres, acho que √© o bastante. At√© a pr√≥xima.</p>
<p>[a s√©rie de artigos sobre o Windows]: {{< relref "historia-do-windows" >}}</p>

</div>
  <div class="taglist">
  <p class="author">Wanderley Caloni,
     <a href="https://github.com/Caloni/blog/blob/master/content/posts/todo-dunno-original-post-source">
     2012-02-15 00:00:00 &#43;0000
     </a>
  </p>
  <a href="/categories/writting">writting</a> 
  <a href="/tags/movies">movies</a> 
  <a class="externalgray" href="https://t.me/paneloni">discuss</a>
  <script type="text/javascript" src="//cdn.livetrafficfeed.com/static/hitcounterjs/live.js?sty=49&min=1&sta=0&uni=1&tz=America%2FSao_Paulo&ro=0"></script><noscript id="LTF_hitcounter"><a href="https://livetrafficfeed.com/hit-counter">Hit Counter</a></noscript>
  </div>
  </div>
  </body>
  </html>
